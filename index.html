<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profil Pribadi - Araku</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Press Start 2P', cursive;
            background: linear-gradient(135deg, #ffeaa7 0%, #fdcb6e 50%, #fab1a0 100%);
            min-height: 100vh;
            padding: 20px;
            position: relative;
        }

        .floating-shapes {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
            overflow: hidden;
            z-index: 0;
        }

        .shape {
            position: absolute;
            opacity: 0.1;
            animation: float 20s infinite ease-in-out;
        }

        .shape:nth-child(1) { top: 10%; left: 10%; animation-delay: 0s; }
        .shape:nth-child(2) { top: 60%; right: 15%; animation-delay: 3s; }
        .shape:nth-child(3) { bottom: 20%; left: 20%; animation-delay: 6s; }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-30px) rotate(180deg); }
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        /* Edit Mode Styles */
        .edit-mode .editable {
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
            min-height: 20px;
        }

        .edit-mode .editable:hover {
            background-color: rgba(116, 185, 255, 0.1);
            outline: 2px dashed #74b9ff;
            padding: 2px;
            margin: -2px;
        }

        /* Admin Button */
        .admin-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: linear-gradient(135deg, #ff7675 0%, #fd79a8 100%);
            border: 3px solid #2d3436;
            color: white;
            padding: 12px 20px;
            font-family: 'Press Start 2P', cursive;
            font-size: 0.45em;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 4px 4px 0px rgba(45, 52, 54, 0.3);
            z-index: 100;
        }

        .admin-btn:hover {
            transform: translate(-4px, -4px);
            box-shadow: 8px 8px 0px rgba(45, 52, 54, 0.3);
        }

        /* Login Panel */
        .login-panel {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            border: 4px solid #2d3436;
            padding: 30px;
            width: 90%;
            max-width: 350px;
            box-shadow: 8px 8px 0px rgba(45, 52, 54, 0.5);
            text-align: center;
            z-index: 1000;
            display: none;
        }

        .login-panel.active {
            display: block;
        }

        .login-input {
            width: 100%;
            padding: 12px;
            margin-bottom: 15px;
            border: 3px solid #2d3436;
            font-family: 'Press Start 2P', cursive;
            font-size: 0.5em;
            outline: none;
        }

        .login-btn {
            background: linear-gradient(135deg, #74b9ff 0%, #a29bfe 100%);
            border: 3px solid #2d3436;
            color: white;
            padding: 12px 20px;
            font-family: 'Press Start 2P', cursive;
            font-size: 0.5em;
            cursor: pointer;
            margin: 5px;
            width: calc(50% - 10px);
        }

        .error-message {
            color: #ff6b6b;
            font-size: 0.35em;
            margin-bottom: 10px;
            min-height: 15px;
        }

        /* Upload Button */
        .upload-btn {
            background: linear-gradient(135deg, #a29bfe 0%, #74b9ff 100%);
            border: 2px solid #2d3436;
            color: white;
            padding: 8px 15px;
            font-family: 'Press Start 2P', cursive;
            font-size: 0.35em;
            cursor: pointer;
            margin: 5px 0;
            display: block;
            transition: all 0.3s ease;
        }

        .upload-btn:hover {
            transform: translate(-2px, -2px);
            box-shadow: 4px 4px 0px rgba(45, 52, 54, 0.3);
        }

        .hidden {
            display: none !important;
        }

        /* Profile Card Styles */
        .profile-card {
            background: white;
            border: 4px solid #2d3436;
            overflow: hidden;
            box-shadow: 8px 8px 0px rgba(45, 52, 54, 0.3);
            margin-bottom: 25px;
            transition: all 0.3s ease;
        }

        .profile-card:hover {
            transform: translate(-4px, -4px);
            box-shadow: 12px 12px 0px rgba(45, 52, 54, 0.3);
        }

        .hero {
            background: linear-gradient(135deg, #ff7675 0%, #fd79a8 100%);
            padding: 50px 30px;
            text-align: center;
            position: relative;
            border-bottom: 4px solid #2d3436;
        }

        .hero::after {
            content: '‚ö°';
            position: absolute;
            top: 20px;
            right: 30px;
            font-size: 2.5em;
            animation: pulse 2s infinite;
            opacity: 0.3;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        .avatar {
            width: 120px;
            height: 120px;
            margin: 0 auto 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 60px;
            border: 4px solid #2d3436;
            box-shadow: 6px 6px 0px rgba(45, 52, 54, 0.5);
            image-rendering: pixelated;
            animation: bounce 3s ease-in-out infinite;
            overflow: hidden;
            position: relative;
            background: #dfe6e9;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }

        .avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .hero h1 {
            color: white;
            font-size: 1.5em;
            margin-bottom: 15px;
            font-weight: 400;
            text-shadow: 4px 4px 0px rgba(45, 52, 54, 0.8);
            line-height: 1.6;
        }

        .hero p {
            color: #2d3436;
            font-size: 0.5em;
            line-height: 1.8;
        }

        .section {
            background: white;
            border: 4px solid #2d3436;
            padding: 30px 25px;
            margin-bottom: 25px;
            box-shadow: 8px 8px 0px rgba(45, 52, 54, 0.3);
            position: relative;
        }

        .section::before {
            content: '';
            position: absolute;
            top: 10px;
            right: 10px;
            width: 15px;
            height: 15px;
            background: #ff6b6b;
            border: 2px solid #2d3436;
        }

        .section-title {
            color: #d63031;
            font-size: 0.85em;
            margin-bottom: 25px;
            display: flex;
            align-items: center;
            gap: 12px;
            font-weight: 400;
            line-height: 1.6;
            padding-bottom: 15px;
            border-bottom: 3px dashed #2d3436;
        }

        .section-title span {
            font-size: 1.3em;
        }

        .about-box {
            background: linear-gradient(135deg, #74b9ff 0%, #a29bfe 100%);
            border: 3px solid #2d3436;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 4px 4px 0px rgba(45, 52, 54, 0.2);
            display: flex;
            gap: 20px;
            align-items: center;
            flex-wrap: wrap;
        }

        .about-box .about-photo {
            width: 270px;
            height: 290px;
            border: 4px solid #2d3436;
            box-shadow: 4px 4px 0px rgba(45, 52, 54, 0.3);
            flex-shrink: 0;
            object-fit: cover;
            image-rendering: auto;
            background: #dfe6e9;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4em;
            color: #2d3436;
            overflow: hidden;
            position: relative;
        }

        .about-box .about-photo img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .about-text {
            flex: 1;
            min-width: 250px;
        }

        .about-text p {
            color: white;
            font-size: 0.45em;
            line-height: 2;
            text-shadow: 2px 2px 0px rgba(45, 52, 54, 0.3);
        }

        .hobi-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: 20px;
        }

        .hobi-item {
            background: linear-gradient(135deg, #ffeaa7 0%, #fdcb6e 100%);
            padding: 25px 20px;
            border: 3px solid #2d3436;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
            box-shadow: 4px 4px 0px rgba(45, 52, 54, 0.3);
            position: relative;
        }

        .hobi-item::after {
            content: '';
            position: absolute;
            top: 5px;
            right: 5px;
            width: 8px;
            height: 8px;
            background: #ff6b6b;
            border: 2px solid #2d3436;
        }

        .hobi-item:hover {
            transform: translate(-4px, -4px);
            box-shadow: 8px 8px 0px rgba(45, 52, 54, 0.3);
            background: linear-gradient(135deg, #fdcb6e 0%, #ffeaa7 100%);
        }

        .hobi-item .icon {
            font-size: 3em;
            margin-bottom: 15px;
            image-rendering: pixelated;
        }

        .hobi-item h3 {
            color: #d63031;
            font-size: 0.6em;
            margin-bottom: 10px;
            font-weight: 400;
            line-height: 1.5;
        }

        .hobi-item p {
            color: #2d3436;
            font-size: 0.4em;
            line-height: 1.6;
        }

        .gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 18px;
            margin-top: 20px;
        }

        .gallery-item {
            aspect-ratio: 1;
            background: linear-gradient(135deg, #74b9ff 0%, #a29bfe 100%);
            border: 4px solid #2d3436;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4em;
            transition: all 0.3s ease;
            cursor: pointer;
            box-shadow: 4px 4px 0px rgba(45, 52, 54, 0.3);
            image-rendering: pixelated;
            position: relative;
            overflow: hidden;
        }

        .gallery-item::before {
            content: '';
            position: absolute;
            top: 8px;
            right: 8px;
            width: 12px;
            height: 12px;
            background: #ffeaa7;
            border: 2px solid #2d3436;
        }

        .gallery-item:hover {
            transform: translate(-4px, -4px) rotate(-5deg);
            box-shadow: 8px 8px 0px rgba(45, 52, 54, 0.3);
        }

        .gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* Gallery Modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            animation: fadeIn 0.3s;
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            max-width: 90%;
            max-height: 90%;
            border: 4px solid #ffeaa7;
            box-shadow: 0 0 30px rgba(255, 234, 167, 0.5);
        }

        .modal-content img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .close-modal {
            position: absolute;
            top: 20px;
            right: 30px;
            font-size: 3em;
            color: #ffeaa7;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Press Start 2P', cursive;
            text-shadow: 3px 3px 0px rgba(0, 0, 0, 0.5);
        }

        .close-modal:hover {
            color: #ff6b6b;
            transform: scale(1.2);
        }

        .dream-box {
            background: linear-gradient(135deg, #ee5a6f 0%, #f29263 100%);
            padding: 25px;
            border: 4px solid #2d3436;
            position: relative;
            overflow: hidden;
            box-shadow: 4px 4px 0px rgba(45, 52, 54, 0.3);
        }

        .dream-box::before {
            content: '‚≠ê';
            position: absolute;
            font-size: 120px;
            opacity: 0.15;
            right: -20px;
            top: -20px;
            animation: spin 20s linear infinite;
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .dream-box h3 {
            color: white;
            font-size: 0.75em;
            margin-bottom: 15px;
            font-weight: 400;
            line-height: 1.6;
            text-shadow: 3px 3px 0px rgba(45, 52, 54, 0.5);
        }

        .dream-box p {
            color: white;
            line-height: 2;
            font-size: 0.5em;
        }

        .social-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 18px;
        }

        .social-item {
            background: linear-gradient(135deg, #fab1a0 0%, #ffeaa7 100%);
            border: 3px solid #2d3436;
            padding: 20px 18px;
            display: flex;
            align-items: center;
            gap: 15px;
            transition: all 0.3s ease;
            cursor: pointer;
            text-decoration: none;
            box-shadow: 4px 4px 0px rgba(45, 52, 54, 0.3);
        }

        .social-item:hover {
            transform: translate(-4px, -4px);
            box-shadow: 8px 8px 0px rgba(45, 52, 54, 0.3);
        }

        .social-item .icon {
            font-size: 2.5em;
            flex-shrink: 0;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .social-item .icon svg {
            width: 40px;
            height: 40px;
        }

        .social-item .info {
            flex: 1;
        }

        .social-item .platform {
            color: #d63031;
            font-size: 0.5em;
            margin-bottom: 8px;
        }

        .social-item .username {
            color: #2d3436;
            font-size: 0.4em;
            word-break: break-all;
        }

        .contact-grid {
            display: grid;
            gap: 18px;
        }

        .contact-item {
            background: linear-gradient(135deg, #74b9ff 0%, #a29bfe 100%);
            border: 3px solid #2d3436;
            padding: 20px 18px;
            display: flex;
            align-items: center;
            gap: 15px;
            box-shadow: 4px 4px 0px rgba(45, 52, 54, 0.3);
        }

        .contact-item .icon {
            font-size: 2.5em;
            flex-shrink: 0;
        }

        .contact-item .info {
            flex: 1;
        }

        .contact-item .label {
            color: white;
            font-size: 0.5em;
            margin-bottom: 8px;
            text-shadow: 2px 2px 0px rgba(45, 52, 54, 0.3);
        }

        .contact-item .value {
            color: #2d3436;
            font-size: 0.5em;
            word-break: break-all;
        }

        .footer {
            text-align: center;
            padding: 30px 20px;
            color: #2d3436;
            border-top: 3px dashed #2d3436;
            margin-top: 20px;
        }

        .footer p {
            font-size: 0.5em;
            line-height: 2;
        }

        /* Overlay for modal background */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 999;
            display: none;
        }

        .overlay.active {
            display: block;
        }

        /* Loading spinner */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #3498db;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Status messages */
        .status-message {
            position: fixed;
            bottom: 80px;
            right: 20px;
            background: #2d3436;
            color: white;
            padding: 10px 15px;
            font-size: 0.35em;
            border-radius: 5px;
            z-index: 100;
            animation: slideIn 0.3s ease;
            display: none;
        }

        .status-message.show {
            display: block;
        }

        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @media (max-width: 768px) {
            body {
                padding: 15px;
            }

            .hero {
                padding: 40px 20px;
            }

            .hero h1 {
                font-size: 1.1em;
            }

            .hero p {
                font-size: 0.45em;
            }

            .avatar {
                width: 100px;
                height: 100px;
                font-size: 50px;
            }

            .section {
                padding: 25px 20px;
            }

            .section-title {
                font-size: 0.75em;
            }

            .about-box {
                flex-direction: column;
                text-align: center;
            }

            .about-photo {
                width: 180px;
                height: 180px;
                margin: 0 auto;
            }

            .hobi-list {
                grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
                gap: 15px;
            }

            .gallery {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
            }

            .gallery-item {
                font-size: 5em;
            }

            .social-grid {
                grid-template-columns: 1fr;
            }

            .close-modal {
                font-size: 2em;
                top: 15px;
                right: 20px;
            }

            .admin-btn {
                bottom: 15px;
                right: 15px;
                padding: 10px 15px;
                font-size: 0.4em;
            }

            .login-panel {
                padding: 20px;
                width: 95%;
            }
        }

        @media (max-width: 480px) {
            .hero h1 {
                font-size: 0.9em;
            }

            .section-title {
                font-size: 0.65em;
            }

            .hobi-list {
                grid-template-columns: 1fr;
            }

            .avatar {
                width: 100px;
                height: 100px;
                font-size: 45px;
            }

            .gallery {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .gallery-item {
                font-size: 6em;
                min-height: 250px;
            }

            .about-photo {
                width: 200px;
                height: 200px;
            }
            
            .admin-btn {
                bottom: 10px;
                right: 10px;
                padding: 8px 12px;
                font-size: 0.35em;
            }
        }
    </style>
</head>
<body>
    <!-- Status Message -->
    <div class="status-message" id="statusMessage"></div>

    <!-- Admin Button -->
    <button class="admin-btn" id="mainAdminBtn" onclick="toggleLogin()">üîê EDIT PROFILE</button>

    <!-- Login Panel -->
    <div id="loginOverlay" class="overlay"></div>
    <div id="loginPanel" class="login-panel">
        <h2 style="font-size: 0.8em; margin-bottom: 20px;">LOGIN ADMIN</h2>
        <div class="error-message" id="loginError"></div>
        <input type="password" id="passwordInput" class="login-input" placeholder="Password" autocomplete="off">
        <div style="display: flex; gap: 10px;">
            <button onclick="checkLogin()" class="login-btn">LOGIN</button>
            <button onclick="hideLogin()" class="login-btn" style="background: linear-gradient(135deg, #fab1a0 0%, #ffeaa7 100%);">BATAL</button>
        </div>
        <p style="font-size: 0.3em; color: #2d3436; margin-top: 15px; opacity: 0.7;">
           Yang login cuman bisa Araku wleee
        </p>
    </div>

    <!-- Floating Shapes -->
    <div class="floating-shapes">
        <div class="shape" style="font-size: 80px;">üå∏</div>
        <div class="shape" style="font-size: 70px;">üíÆ</div>
        <div class="shape" style="font-size: 90px;">üå∫</div>
    </div>

    <!-- Hidden File Inputs -->
    <input type="file" id="avatarUpload" class="hidden" accept="image/*">
    <input type="file" id="aboutUpload" class="hidden" accept="image/*">
    <input type="file" id="galleryUpload" class="hidden" accept="image/*" multiple>

    <!-- Main Content -->
    <div class="container">
        <!-- Profile Card -->
        <div class="profile-card">
            <div class="hero">
                <div class="avatar">
                    <img src="" alt="Avatar" id="avatarImg" onerror="setDefaultImage(this, 'avatar')">
                </div>
                <h1 id="nameText">Araku</h1>
                <p id="taglineText">Suka Anime ‚Ä¢ Keren ‚Ä¢ Sop boi ‚Ä¢ Suka Gambar (kalau mau)</p>
            </div>
        </div>

        <!-- About Section -->
        <div class="section">
            <div class="section-title">
                <span>üë§</span>
                <span id="aboutTitleText">About Me</span>
            </div>
            <div class="about-box">
                <div class="about-photo">
                    <img src="" alt="Foto Profil" id="aboutImg" onerror="setDefaultImage(this, 'about')">
                </div>
                <div class="about-text">
                    <p id="aboutText">ssasasas Saya pecinta anime dan seni yang passionate dalam menggambar. Saya percaya setiap goresan pensil adalah ekspresi jiwa, dan setiap karya adalah perjalanan menuju mimpi!</p>
                </div>
            </div>
        </div>

        <!-- Hobi Section -->
        <div class="section">
            <div class="section-title">
                <span>üé®</span>
                <span id="hobiTitleText">Hobi</span>
            </div>
            <div class="hobi-list">
                <div class="hobi-item">
                    <div class="icon">‚úèÔ∏è</div>
                    <h3 id="hobi1TitleText">Menggambar</h3>
                    <p id="hobi1DescText">Gambar itu my hobi aku guweh tapi males soalnya susah jirr</p>
                </div>
                <div class="hobi-item">
                    <div class="icon">üì∫</div>
                    <h3 id="hobi2TitleText">Nonton Anime</h3>
                    <p id="hobi2DescText">Penyuka genre Action & Romance cuiiii</p>
                </div>
                <div class="hobi-item">
                    <div class="icon">üìñ</div>
                    <h3 id="hobi3TitleText">Baca Manga</h3>
                    <p id="hobi3DescText">Suka baca manga juga buat liat karya dari para mangaka dan menikmati karya nya</p>
                </div>
                <div class="hobi-item">
                    <div class="icon">üéÆ</div>
                    <h3 id="hobi4TitleText">Main Game</h3>
                    <p id="hobi4DescText">siapa coba yang gak suka main game, game favoritku ituh ZZZ</p>
                </div>
            </div>
            
            <!-- Gallery Section -->
            <div style="margin-top: 35px;">
                <div class="section-title">
                    <span>üñºÔ∏è</span>
                    <span id="galleryTitleText">Sedikit gambaran ku</span>
                </div>
                
                <div class="gallery" id="galleryContainer">
                    <!-- Gallery items will be loaded here -->
                </div>
            </div>
        </div>

        <!-- Cita-Cita Section -->
        <div class="section">
            <div class="section-title">
                <span>‚≠ê</span>
                <span id="dreamTitleText">Cita-Cita</span>
            </div>
            <div class="dream-box">
                <h3 id="dreamSubtitleText">Mimpi Besar akuh üåü</h3>
                <p id="dreamText">
                    Aku bercita-cita jadi seorang Mangaka profesional yang karyanya menginspirasi banyak orang. aku pengen ngeciptain cerita dan karakter sendiri yang bermakna, kayak manga dan anime favorit aku yang udah mengubah hidup aku. Suatu hari nanti, aku harap aku bisa menerbitkan manga sendiri dan berbagi karya dengan dunia!
                </p>
            </div>
        </div>

        <!-- Social Media Section -->
        <div class="section">
            <div class="section-title">
                <span>üåê</span>
                <span id="socialTitleText">Social Media</span>
            </div>
            <div class="social-grid">
                <a href="https://x.com/Arakuken" class="social-item" target="_blank">
                    <div class="icon">
                        <svg width="40" height="40" viewBox="0 0 24 24" fill="none">
                            <path d="M8 3 L12 8 L16 3" fill="#74b9ff" stroke="#2d3436" stroke-width="2"/>
                            <circle cx="12" cy="10" r="6" fill="#74b9ff" stroke="#2d3436" stroke-width="2"/>
                            <circle cx="10" cy="9" r="1.5" fill="#2d3436"/>
                            <circle cx="14" cy="9" r="1.5" fill="#2d3436"/>
                            <path d="M 9 12 Q 12 13.5 15 12" stroke="#2d3436" stroke-width="1.5" fill="none"/>
                            <path d="M 6 14 L 4 16" stroke="#2d3436" stroke-width="2"/>
                            <path d="M 18 14 L 20 16" stroke="#2d3436" stroke-width="2"/>
                        </svg>
                    </div>
                    <div class="info">
                        <div class="platform" id="social1PlatformText">Twitter</div>
                        <div class="username" id="social1UsernameText">@Arakuken</div>
                    </div>
                </a>
                <a href="https://www.instagram.com/araku_ken?igsh=eHA4dWVvcGloOWo=" class="social-item" target="_blank">
                    <div class="icon">
                        <svg width="40" height="40" viewBox="0 0 24 24" fill="none">
                            <rect x="6" y="7" width="12" height="12" rx="3" fill="#fd79a8" stroke="#2d3436" stroke-width="2"/>
                            <circle cx="12" cy="13" r="3" fill="white" stroke="#2d3436" stroke-width="2"/>
                            <circle cx="16" cy="9" r="1" fill="white"/>
                            <rect x="9" y="4" width="6" height="3" fill="#fd79a8" stroke="#2d3436" stroke-width="2"/>
                        </svg>
                    </div>
                    <div class="info">
                        <div class="platform" id="social2PlatformText">Instagram</div>
                        <div class="username" id="social2UsernameText">@araku_ken</div>
                    </div>
                </a>
                <a href="https://youtube.com/@araku-ken?si=YGon5AGmYyKTMEoL" class="social-item" target="_blank">
                    <div class="icon">
                        <svg width="40" height="40" viewBox="0 0 24 24" fill="none">
                            <rect x="4" y="6" width="16" height="12" rx="2" fill="#ff6b6b" stroke="#2d3436" stroke-width="2"/>
                            <path d="M 10 9 L 10 15 L 16 12 Z" fill="white" stroke="#2d3436" stroke-width="1.5"/>
                        </svg>
                    </div>
                    <div class="info">
                        <div class="platform" id="social3PlatformText">YouTube</div>
                        <div class="username" id="social3UsernameText">@Araku</div>
                    </div>
                </a>
                <a href="https://www.tiktok.com/@araku_ken?_r=1&_t=ZS-924bOUosZDc" class="social-item" target="_blank">
                    <div class="icon">
                        <svg width="40" height="40" viewBox="0 0 24 24" fill="none">
                            <circle cx="10" cy="14" r="4" fill="#a29bfe" stroke="#2d3436" stroke-width="2"/>
                            <circle cx="16" cy="10" r="3" fill="#a29bfe" stroke="#2d3436" stroke-width="2"/>
                            <path d="M 14 10 L 14 14" stroke="#2d3436" stroke-width="2"/>
                            <path d="M 14 6 L 14 10 L 17 8" stroke="#2d3436" stroke-width="2" fill="none"/>
                        </svg>
                    </div>
                    <div class="info">
                        <div class="platform" id="social4PlatformText">TikTok</div>
                        <div class="username" id="social4UsernameText">@araku_ken</div>
                    </div>
                </a>
                <a href="https://www.facebook.com/share/1Cjb4WxBZT/" class="social-item" target="_blank">
                    <div class="icon">
                        <svg width="40" height="40" viewBox="0 0 24 24" fill="none">
                            <rect x="6" y="4" width="12" height="16" rx="2" fill="#74b9ff" stroke="#2d3436" stroke-width="2"/>
                            <path d="M 10 8 L 14 8 M 10 12 L 14 12 M 10 8 L 10 16" stroke="white" stroke-width="2.5" stroke-linecap="round"/>
                        </svg>
                    </div>
                    <div class="info">
                        <div class="platform" id="social5PlatformText">Facebook</div>
                        <div class="username" id="social5UsernameText">araku ken</div>
                    </div>
                </a>
                <a href="https://mangaplus-creators.jp/authors/27270741" class="social-item" target="_blank">
                    <div class="icon">
                        <svg width="40" height="40" viewBox="0 0 24 24" fill="none">
                            <rect x="5" y="3" width="14" height="18" rx="1" fill="white" stroke="#2d3436" stroke-width="2"/>
                            <path d="M 19 3 L 19 7 L 15 7 Z" fill="#ffeaa7" stroke="#2d3436" stroke-width="1.5"/>
                            <line x1="15" y1="7" x2="19" y2="3" stroke="#2d3436" stroke-width="1.5"/>
                            <line x1="8" y1="10" x2="16" y2="10" stroke="#ff6b6b" stroke-width="2"/>
                            <line x1="8" y1="13" x2="16" y2="13" stroke="#74b9ff" stroke-width="2"/>
                            <line x1="8" y1="16" x2="13" y2="16" stroke="#a29bfe" stroke-width="2"/>
                            <circle cx="9" cy="10" r="0.8" fill="#ff6b6b"/>
                            <circle cx="15" cy="13" r="0.8" fill="#74b9ff"/>
                        </svg>
                    </div>
                    <div class="info">
                        <div class="platform" id="social6PlatformText">Manga Plus</div>
                        <div class="username" id="social6UsernameText">Araku</div>
                    </div>
                </a>
            </div>
        </div>

        <!-- Kontak Section -->
        <div class="section">
            <div class="section-title">
                <span>üìß</span>
                <span id="contactTitleText">Kontak</span>
            </div>
            <div class="contact-grid">
                <div class="contact-item">
                    <div class="icon">‚úâÔ∏è</div>
                    <div class="info">
                        <div class="label" id="contact1LabelText">Email</div>
                        <div class="value" id="contact1ValueText">arakuken@gmail.com</div>
                    </div>
                </div>
                <div class="contact-item">
                    <div class="icon">üì±</div>
                    <div class="info">
                        <div class="label" id="contact2LabelText">Phone</div>
                        <div class="value" id="contact2ValueText">+62 857 1926 2088</div>
                    </div>
                </div>
                <div class="contact-item">
                    <div class="icon">üìç</div>
                    <div class="info">
                        <div class="label" id="contact3LabelText">Location</div>
                        <div class="value" id="contact3ValueText">Karawang, Indonesia</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p id="footerText">‚ú® "Follow your dreams and never give up!" ‚ú®</p>
            <p style="margin-top: 15px; opacity: 0.7;">Made by Araku 2025</p>
        </div>
    </div>

    <!-- Gallery Modal -->
    <div id="galleryModal" class="modal">
        <div class="close-modal" onclick="closeModal()">‚úï</div>
        <div class="modal-content">
            <img id="modalImage" src="" alt="">
        </div>
    </div>

    <script>
    // ==================== KONFIGURASI ====================
    const APPS_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbzydJiiMufeXqiFBcW1DIjNBk_hbCXJW_BjWRStlVVpMdB65bjL2wei9fInZcoknKWr/exec";
    const CORRECT_PASSWORD = "arakuganteng";
    let isLoggedIn = false;
    let isEditMode = false;
    let galleryImages = [];

    // ==================== ELEMENT MAPPING ====================
    const editableElements = {
        'name': 'nameText',
        'tagline': 'taglineText',
        'aboutTitle': 'aboutTitleText',
        'aboutText': 'aboutText',
        'hobiTitle': 'hobiTitleText',
        'hobi1Title': 'hobi1TitleText',
        'hobi1Desc': 'hobi1DescText',
        'hobi2Title': 'hobi2TitleText',
        'hobi2Desc': 'hobi2DescText',
        'hobi3Title': 'hobi3TitleText',
        'hobi3Desc': 'hobi3DescText',
        'hobi4Title': 'hobi4TitleText',
        'hobi4Desc': 'hobi4DescText',
        'galleryTitle': 'galleryTitleText',
        'dreamTitle': 'dreamTitleText',
        'dreamSubtitle': 'dreamSubtitleText',
        'dreamText': 'dreamText',
        'socialTitle': 'socialTitleText',
        'social1Platform': 'social1PlatformText',
        'social1Username': 'social1UsernameText',
        'social2Platform': 'social2PlatformText',
        'social2Username': 'social2UsernameText',
        'social3Platform': 'social3PlatformText',
        'social3Username': 'social3UsernameText',
        'social4Platform': 'social4PlatformText',
        'social4Username': 'social4UsernameText',
        'social5Platform': 'social5PlatformText',
        'social5Username': 'social5UsernameText',
        'social6Platform': 'social6PlatformText',
        'social6Username': 'social6UsernameText',
        'contactTitle': 'contactTitleText',
        'contact1Label': 'contact1LabelText',
        'contact1Value': 'contact1ValueText',
        'contact2Label': 'contact2LabelText',
        'contact2Value': 'contact2ValueText',
        'contact3Label': 'contact3LabelText',
        'contact3Value': 'contact3ValueText',
        'footerText': 'footerText'
    };

    // ==================== INITIALIZATION ====================
    document.addEventListener('DOMContentLoaded', async function() {
        console.log('Memulai aplikasi...');
        
        // Cek login status
        const savedLogin = localStorage.getItem('araku_profile_logged_in');
        if (savedLogin === 'true') {
            isLoggedIn = true;
            enableEditMode();
            document.getElementById('mainAdminBtn').textContent = "üîì EDIT MODE ON";
        }
        
        // Load data dari localStorage dulu
        loadFromLocalStorage();
        
        // Coba load dari server (tapi jangan block UI)
        setTimeout(async () => {
            await loadDataFromServer();
        }, 100);
        
        // Setup event listeners
        setupEventListeners();
    });

    function setupEventListeners() {
        // Login events
        document.getElementById('passwordInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') checkLogin();
        });
        
        // File upload events
        document.getElementById('avatarUpload').addEventListener('change', function(e) {
            handleImageUpload(e, 'avatar');
        });
        
        document.getElementById('aboutUpload').addEventListener('change', function(e) {
            handleImageUpload(e, 'about');
        });
        
        document.getElementById('galleryUpload').addEventListener('change', function(e) {
            handleGalleryUpload(e);
        });
    }

    // ==================== FIXED SERVER FUNCTIONS ====================
    async function callServer(action, data = {}) {
    try {
        let url = APPS_SCRIPT_URL;
        
        if (action === 'get_data') {
            // Untuk GET request
            url += '?action=' + encodeURIComponent(action);
            
            // Tambah cache busting
            url += '&_=' + Date.now();
            
            const response = await fetch(url);
            
            if (!response.ok) {
                throw new Error('HTTP error: ' + response.status);
            }
            
            const result = await response.json();
            return result;
            
        } else {
            // Untuk POST request (upload)
            const formData = new FormData();
            formData.append('action', action);
            
            // Add all data as JSON string
            const jsonData = JSON.stringify(data);
            const blob = new Blob([jsonData], { type: 'application/json' });
            formData.append('data', blob);
            
            // Simple POST without expecting response (to avoid CORS)
            await fetch(url, {
                method: 'POST',
                mode: 'no-cors',
                body: formData
            });
            
            // For POST, we can't read response in no-cors mode
            // Just assume it worked
            return { 
                success: true, 
                message: 'Request sent (no-cors mode)',
                timestamp: new Date().toISOString()
            };
        }
    } catch (error) {
        console.error('Server call error:', error);
        return {
            success: false,
            error: error.message,
            message: 'Failed to connect to server'
        };
    }
}
    // ==================== SIMPLE UPLOAD SOLUTION ====================
    async function simpleUploadToDrive(base64Data, fileName, type) {
        // Ini adalah cara sederhana upload ke Google Drive
        // Menggunakan Google Drive API langsung dari browser
        
        showStatus('Mengupload gambar...', 'info');
        
        try {
            // Konversi base64 ke blob
            const byteCharacters = atob(base64Data.split(',')[1]);
            const byteNumbers = new Array(byteCharacters.length);
            
            for (let i = 0; i < byteCharacters.length; i++) {
                byteNumbers[i] = byteCharacters.charCodeAt(i);
            }
            
            const byteArray = new Uint8Array(byteNumbers);
            const blob = new Blob([byteArray], { type: 'image/png' });
            
            // Simpan ke localStorage sebagai fallback
            const objectURL = URL.createObjectURL(blob);
            
            if (type === 'avatar') {
                document.getElementById('avatarImg').src = objectURL;
                localStorage.setItem('araku_profile_avatar', base64Data);
            } else if (type === 'about') {
                document.getElementById('aboutImg').src = objectURL;
                localStorage.setItem('araku_profile_about', base64Data);
            } else if (type === 'gallery') {
                galleryImages.push({
                    src: objectURL,
                    alt: fileName || `Karya ${galleryImages.length + 1}`
                });
                localStorage.setItem('araku_profile_gallery', JSON.stringify(galleryImages));
                renderGallery();
            }
            
            // Juga simpan ke server via Apps Script (background)
            uploadToServerInBackground(base64Data, fileName, type);
            
            showStatus('Gambar berhasil disimpan!', 'success');
            return { success: true, url: objectURL };
            
        } catch (error) {
            console.error('Upload error:', error);
            showStatus('Gagal upload: ' + error.message, 'error');
            return { success: false, error: error.message };
        }
    }

    async function uploadToServerInBackground(base64Data, fileName, type) {
        // Fungsi ini mencoba upload ke server di background
        // Tidak blocking UI jika gagal
        
        try {
            // Create a simple form submit (works with Google Apps Script)
            const form = document.createElement('form');
            form.style.display = 'none';
            form.method = 'POST';
            form.action = APPS_SCRIPT_URL;
            form.enctype = 'multipart/form-data';
            
            // Add action field
            const actionInput = document.createElement('input');
            actionInput.type = 'hidden';
            actionInput.name = 'action';
            actionInput.value = 'upload_image';
            form.appendChild(actionInput);
            
            // Add type field
            const typeInput = document.createElement('input');
            typeInput.type = 'hidden';
            typeInput.name = 'type';
            typeInput.value = type;
            form.appendChild(typeInput);
            
            // Add image data (truncated if too large)
            const dataInput = document.createElement('input');
            dataInput.type = 'hidden';
            dataInput.name = 'image_data';
            
            // Truncate data if too large (Google Apps Script limit)
            const maxLength = 100000; // ~100KB max for URL encoded
            if (base64Data.length > maxLength) {
                dataInput.value = base64Data.substring(0, maxLength);
            } else {
                dataInput.value = base64Data;
            }
            
            form.appendChild(dataInput);
            
            // Add to page and submit
            document.body.appendChild(form);
            form.submit();
            
            // Clean up after a delay
            setTimeout(() => {
                document.body.removeChild(form);
            }, 1000);
            
        } catch (error) {
            console.log('Background upload failed (non-critical):', error);
        }
    }

    // ==================== IMAGE UPLOAD FUNCTIONS ====================
    async function handleImageUpload(event, type) {
        const file = event.target.files[0];
        if (!file) return;
        
        // Validasi
        if (file.size > 2 * 1024 * 1024) { // 2MB max untuk stability
            showStatus('Ukuran file terlalu besar! Maksimal 2MB.', 'error');
            return;
        }
        
        if (!file.type.match('image.*')) {
            showStatus('Hanya file gambar yang diperbolehkan!', 'error');
            return;
        }
        
        const reader = new FileReader();
        
        reader.onload = async function(e) {
            const imageData = e.target.result;
            
            // Gunakan metode simple upload
            const result = await simpleUploadToDrive(imageData, file.name, type);
            
            if (!result.success) {
                // Fallback: simpan ke localStorage saja
                if (type === 'avatar') {
                    document.getElementById('avatarImg').src = imageData;
                    localStorage.setItem('araku_profile_avatar', imageData);
                } else if (type === 'about') {
                    document.getElementById('aboutImg').src = imageData;
                    localStorage.setItem('araku_profile_about', imageData);
                }
                showStatus('Gambar disimpan lokal', 'warning');
            }
        };
        
        reader.onerror = function() {
            showStatus('Gagal membaca file!', 'error');
        };
        
        reader.readAsDataURL(file);
        event.target.value = '';
    }

    async function handleGalleryUpload(event) {
        const files = event.target.files;
        if (!files.length) return;
        
        for (const file of Array.from(files)) {
            if (file.size > 2 * 1024 * 1024) {
                showStatus(`File ${file.name} terlalu besar! (max 2MB)`, 'error');
                continue;
            }
            
            if (!file.type.match('image.*')) {
                showStatus(`File ${file.name} bukan gambar!`, 'error');
                continue;
            }
            
            const reader = new FileReader();
            
            reader.onload = async function(e) {
                const imageData = e.target.result;
                
                await simpleUploadToDrive(imageData, file.name, 'gallery');
            };
            
            reader.readAsDataURL(file);
        }
        
        event.target.value = '';
    }

    // ==================== LOAD DATA FUNCTIONS ====================
    async function loadDataFromServer() {
        try {
            const result = await callServer('get_data');
            
            if (result.success && result.data) {
                // Update dari server jika ada
                updateFromServerData(result.data);
                showStatus('Data server dimuat', 'success');
            }
        } catch (error) {
            console.log('Tidak bisa load dari server, gunakan data lokal');
        }
    }

    function updateFromServerData(serverData) {
        // Avatar
        if (serverData.avatar && serverData.avatar !== localStorage.getItem('araku_profile_avatar')) {
            document.getElementById('avatarImg').src = serverData.avatar;
            localStorage.setItem('araku_profile_avatar', serverData.avatar);
        }
        
        // About
        if (serverData.about && serverData.about !== localStorage.getItem('araku_profile_about')) {
            document.getElementById('aboutImg').src = serverData.about;
            localStorage.setItem('araku_profile_about', serverData.about);
        }
        
        // Gallery
        if (serverData.gallery && Array.isArray(serverData.gallery)) {
            // Gabungkan gallery lokal dan server
            const localGallery = JSON.parse(localStorage.getItem('araku_profile_gallery') || '[]');
            const combinedGallery = [...localGallery, ...serverData.gallery];
            
            // Hapus duplikat berdasarkan URL
            const uniqueGallery = Array.from(new Set(combinedGallery.map(item => item.src)))
                .map(src => combinedGallery.find(item => item.src === src));
            
            galleryImages = uniqueGallery;
            localStorage.setItem('araku_profile_gallery', JSON.stringify(uniqueGallery));
            renderGallery();
        }
        
        // Texts
        if (serverData.texts) {
            Object.keys(serverData.texts).forEach(id => {
                const element = document.getElementById(editableElements[id]);
                if (element && serverData.texts[id]) {
                    const localText = localStorage.getItem(`araku_profile_${id}`);
                    if (!localText || localText !== serverData.texts[id]) {
                        element.textContent = serverData.texts[id];
                        localStorage.setItem(`araku_profile_${id}`, serverData.texts[id]);
                    }
                }
            });
        }
    }

    function loadFromLocalStorage() {
        // Load texts
        Object.keys(editableElements).forEach(id => {
            const element = document.getElementById(editableElements[id]);
            if (element) {
                const savedValue = localStorage.getItem(`araku_profile_${id}`);
                if (savedValue) {
                    element.textContent = savedValue;
                }
            }
        });
        
        // Load images
        const savedAvatar = localStorage.getItem('araku_profile_avatar');
        const savedAbout = localStorage.getItem('araku_profile_about');
        const savedGallery = localStorage.getItem('araku_profile_gallery');
        
        if (savedAvatar) {
            document.getElementById('avatarImg').src = savedAvatar;
        } else {
            document.getElementById('avatarImg').src = 'https://placehold.co/120x120/2d3436/ffffff?text=AKU';
        }
        
        if (savedAbout) {
            document.getElementById('aboutImg').src = savedAbout;
        } else {
            document.getElementById('aboutImg').src = 'https://placehold.co/270x290/74b9ff/ffffff?text=ABOUT';
        }
        
        if (savedGallery) {
            try {
                galleryImages = JSON.parse(savedGallery);
                renderGallery();
            } catch (e) {
                console.error('Error parsing gallery:', e);
            }
        }
    }

    // ==================== RENDER FUNCTIONS ====================
    function renderGallery() {
        const galleryContainer = document.getElementById('galleryContainer');
        
        if (!galleryImages || galleryImages.length === 0) {
            galleryContainer.innerHTML = `
                <div style="grid-column: 1 / -1; text-align: center; padding: 40px; color: #666;">
                    <div style="font-size: 3em; margin-bottom: 20px;">üñºÔ∏è</div>
                    <p style="font-size: 0.5em;">Belum ada gambar di gallery</p>
                </div>
            `;
            return;
        }
        
        galleryContainer.innerHTML = '';
        
        galleryImages.forEach((image, index) => {
            const galleryItem = document.createElement('div');
            galleryItem.className = 'gallery-item';
            galleryItem.onclick = () => openModal(image.src, image.alt);
            
            const img = document.createElement('img');
            img.src = image.src;
            img.alt = image.alt || `Karya ${index + 1}`;
            
            // Handle broken images
            img.onerror = function() {
                this.src = `https://placehold.co/300x300/74b9ff/ffffff?text=KARYA+${index + 1}`;
            };
            
            // Delete button in edit mode
            if (isEditMode && isLoggedIn) {
                const deleteBtn = document.createElement('button');
                deleteBtn.className = 'upload-btn';
                deleteBtn.innerHTML = 'üóëÔ∏è';
                deleteBtn.style.position = 'absolute';
                deleteBtn.style.top = '5px';
                deleteBtn.style.right = '5px';
                deleteBtn.style.zIndex = '10';
                deleteBtn.style.padding = '5px 8px';
                deleteBtn.style.fontSize = '0.25em';
                deleteBtn.onclick = (e) => {
                    e.stopPropagation();
                    if (confirm('Hapus gambar ini?')) {
                        galleryImages.splice(index, 1);
                        localStorage.setItem('araku_profile_gallery', JSON.stringify(galleryImages));
                        renderGallery();
                        showStatus('Gambar dihapus', 'success');
                    }
                };
                galleryItem.appendChild(deleteBtn);
            }
            
            galleryItem.appendChild(img);
            galleryContainer.appendChild(galleryItem);
        });
    }

    // ==================== MODAL FUNCTIONS ====================
    function openModal(imageSrc, imageAlt) {
        document.getElementById('modalImage').src = imageSrc;
        document.getElementById('modalImage').alt = imageAlt;
        document.getElementById('galleryModal').classList.add('active');
    }

    function closeModal() {
        document.getElementById('galleryModal').classList.remove('active');
    }

    // ==================== LOGIN & EDIT FUNCTIONS ====================
    function toggleLogin() {
        if (isLoggedIn) {
            toggleEditMode();
        } else {
            showLogin();
        }
    }

    function showLogin() {
        document.getElementById('loginOverlay').classList.add('active');
        document.getElementById('loginPanel').classList.add('active');
        document.getElementById('passwordInput').focus();
    }

    function hideLogin() {
        document.getElementById('loginOverlay').classList.remove('active');
        document.getElementById('loginPanel').classList.remove('active');
        document.getElementById('passwordInput').value = '';
        document.getElementById('loginError').textContent = '';
    }

    function checkLogin() {
        const passwordInput = document.getElementById('passwordInput');
        const errorMessage = document.getElementById('loginError');
        const enteredPassword = passwordInput.value;
        
        if (enteredPassword === CORRECT_PASSWORD) {
            isLoggedIn = true;
            localStorage.setItem('araku_profile_logged_in', 'true');
            enableEditMode();
            hideLogin();
            document.getElementById('mainAdminBtn').textContent = "üîì EDIT MODE ON";
            showStatus('Login berhasil!', 'success');
        } else {
            errorMessage.textContent = "Password salah!";
            passwordInput.value = "";
            passwordInput.focus();
        }
    }

    function enableEditMode() {
        // Add editable class
        Object.keys(editableElements).forEach(id => {
            const element = document.getElementById(editableElements[id]);
            if (element) {
                element.classList.add('editable');
                element.setAttribute('data-id', id);
                element.addEventListener('click', handleEditClick);
            }
        });
        
        // Add upload buttons
        addUploadButtons();
    }

    function addUploadButtons() {
        // Avatar upload button
        const avatarContainer = document.querySelector('.avatar');
        if (avatarContainer && !avatarContainer.querySelector('.avatar-upload-btn')) {
            const avatarBtn = document.createElement('button');
            avatarBtn.className = 'upload-btn avatar-upload-btn';
            avatarBtn.textContent = 'üì∑ Ganti Avatar';
            avatarBtn.style.position = 'absolute';
            avatarBtn.style.bottom = '5px';
            avatarBtn.style.left = '50%';
            avatarBtn.style.transform = 'translateX(-50%)';
            avatarBtn.style.zIndex = '10';
            avatarBtn.onclick = () => document.getElementById('avatarUpload').click();
            avatarContainer.appendChild(avatarBtn);
        }
        
        // About photo upload button
        const aboutContainer = document.querySelector('.about-photo');
        if (aboutContainer && !aboutContainer.querySelector('.about-upload-btn')) {
            const aboutBtn = document.createElement('button');
            aboutBtn.className = 'upload-btn about-upload-btn';
            aboutBtn.textContent = 'üì∑ Ganti Foto';
            aboutBtn.style.position = 'absolute';
            aboutBtn.style.bottom = '5px';
            aboutBtn.style.left = '50%';
            aboutBtn.style.transform = 'translateX(-50%)';
            aboutBtn.style.zIndex = '10';
            aboutBtn.onclick = () => document.getElementById('aboutUpload').click();
            aboutContainer.appendChild(aboutBtn);
        }
        
        // Gallery upload button
        const galleryTitle = document.querySelector('.section-title:has(#galleryTitleText)');
        if (galleryTitle && !galleryTitle.querySelector('.gallery-upload-btn')) {
            const galleryBtn = document.createElement('button');
            galleryBtn.className = 'upload-btn gallery-upload-btn';
            galleryBtn.textContent = '‚ûï Tambah Gambar';
            galleryBtn.style.marginLeft = '20px';
            galleryBtn.style.display = 'inline-block';
            galleryBtn.onclick = () => document.getElementById('galleryUpload').click();
            galleryTitle.appendChild(galleryBtn);
        }
    }

    function toggleEditMode() {
        if (!isLoggedIn) return;
        
        isEditMode = !isEditMode;
        document.body.classList.toggle('edit-mode', isEditMode);
        
        const btn = document.getElementById('mainAdminBtn');
        btn.textContent = isEditMode ? "üíæ EDIT MODE ON" : "üîì EDIT MODE OFF";
        
        renderGallery();
        
        if (!isEditMode) {
            saveAllContent();
            showStatus('Perubahan disimpan', 'success');
        }
    }

    function handleEditClick(event) {
        if (!isLoggedIn || !isEditMode) return;
        
        const element = event.currentTarget;
        const currentText = element.textContent;
        const dataId = element.getAttribute('data-id');
        
        // Create textarea for editing
        const textarea = document.createElement('textarea');
        textarea.value = currentText;
        textarea.className = 'login-input';
        textarea.style.width = '100%';
        textarea.style.minHeight = '60px';
        textarea.style.fontSize = '0.7em';
        textarea.style.fontFamily = "'Press Start 2P', cursive";
        
        // Replace element with textarea
        element.style.display = 'none';
        element.parentNode.insertBefore(textarea, element);
        textarea.focus();
        
        function saveEdit() {
            const newText = textarea.value.trim();
            
            if (newText !== currentText) {
                element.textContent = newText;
                saveContent(dataId, newText);
                showStatus('Teks disimpan', 'success');
            }
            
            textarea.remove();
            element.style.display = '';
            
            // Remove save button if exists
            const saveBtn = textarea.nextElementSibling;
            if (saveBtn && saveBtn.classList.contains('upload-btn')) {
                saveBtn.remove();
            }
        }
        
        textarea.addEventListener('blur', saveEdit);
        textarea.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' && e.ctrlKey) {
                saveEdit();
            }
        });
        
        // Add save button
        const saveBtn = document.createElement('button');
        saveBtn.className = 'upload-btn';
        saveBtn.textContent = 'üíæ Simpan';
        saveBtn.style.marginTop = '5px';
        saveBtn.onclick = saveEdit;
        
        textarea.parentNode.insertBefore(saveBtn, textarea.nextSibling);
    }

    // ==================== SAVE FUNCTIONS ====================
    function saveContent(id, value) {
        localStorage.setItem(`araku_profile_${id}`, value);
    }

    function saveAllContent() {
        Object.keys(editableElements).forEach(id => {
            const element = document.getElementById(editableElements[id]);
            if (element) {
                saveContent(id, element.textContent);
            }
        });
        showStatus('Semua perubahan disimpan', 'success');
    }

    // ==================== UTILITY FUNCTIONS ====================
    function showStatus(message, type = 'info') {
        const statusEl = document.getElementById('statusMessage');
        const colors = {
            'success': '#2ecc71',
            'error': '#e74c3c',
            'warning': '#f39c12',
            'info': '#3498db'
        };
        
        statusEl.textContent = message;
        statusEl.style.backgroundColor = colors[type] || colors.info;
        statusEl.classList.add('show');
        
        setTimeout(() => {
            statusEl.classList.remove('show');
        }, 3000);
    }

    // Double click admin button for logout
    let clickCount = 0;
    document.getElementById('mainAdminBtn').addEventListener('click', function() {
        clickCount++;
        setTimeout(() => {
            if (clickCount === 2 && isLoggedIn) {
                if (confirm('Logout dari admin mode?')) {
                    isLoggedIn = false;
                    isEditMode = false;
                    localStorage.removeItem('araku_profile_logged_in');
                    document.body.classList.remove('edit-mode');
                    document.getElementById('mainAdminBtn').textContent = "üîê EDIT PROFILE";
                    
                    // Remove editable classes
                    Object.keys(editableElements).forEach(id => {
                        const element = document.getElementById(editableElements[id]);
                        if (element) {
                            element.classList.remove('editable');
                            element.removeAttribute('data-id');
                            element.removeEventListener('click', handleEditClick);
                        }
                    });
                    
                    // Remove upload buttons
                    document.querySelectorAll('.avatar-upload-btn, .about-upload-btn, .gallery-upload-btn').forEach(btn => btn.remove());
                    
                    renderGallery();
                    showStatus('Logged out', 'info');
                }
            }
            clickCount = 0;
        }, 300);
    });

    // Close modal with ESC key
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
            closeModal();
            hideLogin();
        }
    });

    // Handle offline/online status
    window.addEventListener('online', function() {
        showStatus('Koneksi online', 'success');
        // Coba sync data
        setTimeout(async () => {
            await loadDataFromServer();
        }, 2000);
    });

    window.addEventListener('offline', function() {
        showStatus('Koneksi offline - menggunakan data lokal', 'warning');
    });
</script>
</body>
</html>
